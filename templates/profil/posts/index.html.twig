{% extends 'base.html.twig' %}

{% block title %}
	Blog
{% endblock %}
{% block body %}
	{{ include('_partials/_blog-navbar.html.twig') }}
	<h1 class="titre centered">Bienvenue sur le blog</h1>
	<section>
		<h2 class="centered">Les 10 derniers articles</h2>
	</section>
	{% if posts|length>0 %}
		<ul class="container-posts">
			{% for post in posts %}
				<li class="post-item">
				<a href="{{path('posts_modifier',{id:post.id})}}" class="btn"><i class="fa-regular fa-folder-open"></i></a>
					<img src="{{asset('uploads/articles/mini/300x300-')~ post.featuredImage}}" alt="">
					<div class="wrapper-column">

						{# Affichage des mots clés#}
						<div class="container-tags">
							{% if post.tags|length>0 %}
								{% for tag in post.tags %}
									<div class="titre-tag">{{tag.titre}}</div>
								{% endfor %}
							{% endif %}
						</div>

						<h3><strong>{{post.titre}}</strong></h3>

						{# Affichage des catégories#}
						<div class="container-categories">
							{% if post.categories|length>0 %}
								{% for cat in post.categories %}
									<div class="titre-categorie">{{cat.titre}}</div>
								{% endfor %}
							{% endif %}
						</div>
						<p>Auteur :
							{{post.getUsers().getNickname()}}</p>
						<p class="date-publication">Créé le :
							{{post.createdat|date("d-M-Y à H:i")}}</p>
					</div>
				</li>
			{% endfor %}
		</ul>
	{% else %}
		<p class="centered">Il n'existe encore aucun article dans ce blog</p>
	{% endif %}
{% endblock %}
